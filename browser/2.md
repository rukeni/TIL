# 브라우저 동작 원리 - 2

## 파서 종류

## 스타일 시트

스타일 시트는 다른 모델이다. 이론적으로는 스타일 시트는 DOM트리를 변경하지 않기 떄문에 스타일 시트의 읽기를 기다리고 문서의 해석을 중단할 이유가 없다고 생각할 수 있지만 문서의 해석 단계에서 스크립트가 스타일 정보를 요구한다는 문제가 있다.

스타일의 읽기와 해석이 아직 끝나지 않으면, 스크립트는 여러가지 문제를 일으킬 가능성이 있다.

## 스크립트와 스타일 시트 처리 순서

웹 모델은 동기적이다. 파서가 script태그에 이르면 바로 자바스크립트가 해석 실행된다고 가정해보자.

문서의 해석은 스크립트가 실행될 떄까지 중단된다.

스크립트가 외부에 있는 경우는 처음에 네트워크로부터 자원을 취득할 필요가 있다.

이 처리도 동기적으로 이루어지기 때문에 리소스를 취득할 때까지 해석은 중단된다. 이는 오랫동안 사용된 모델로 HTML4, HTML5가 그렇다.

스크립트는 지연으로 감시할수있다(defer)

그경우 문서의 해석은 중단되지 않고 해석 이후에 스크립트가 실행된다. async는 비동기로 감시한다. 그 경우 스크립트는 다른 스레드에서 해석 실행된다.
