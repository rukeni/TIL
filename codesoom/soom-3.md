# 3주차

## 테스트는 상황을 묘사하는 것이다

부끄럽게도 나는 테스트를 그동안 빈약하게 다뤄봤다. E2E테스트를 주력으로 다뤄봤고
Jest와 Testing-Library를 이용하여 스스로 테스트를 해본 경험은 처음이다.(블로그보면서 따라한적은 있지만)

그 이유는 `테스트를 왜 짜야하나?` 라는 질문을 스스로 넘지 못했기 때문이다.

이번 과정에서 가장 크게 배운 포인트는 `테스트는 상황을 묘사한다`는 것이고

`어떻게 해야 더 잘 묘사할까?`를 고민하다보면 더 테스트코드를 잘 짤수 있을거라는 기대감이 생겼다.

## 급발진 방지턱(?) = TDD

이번주는 테스트를 배우는게 주 였고 TDD로 작성하지는 않았다.

TDD를 설명들으면서 만약, TDD를 이용한다면 `나는 무엇을 얻을 수 있을까` 고민을 해보았다.

구현코드는 자동차로 따지면 엑셀 밟는거라고 생각한다.
어떤 차든 교통법규가 없으면 아우토반을 달리는 페라리 마냥 엑셀을 마음껏 밟을 수 있다.
엑셀을 마음 껏 밟으면 아무 사고 없이 목적이 빠르게 갈 수도 있지만 뉴스에 나올만한 대형사고가 날 수도 있는 것이다.

코드역시 마찬가지라고 생각한다.
코드도 규칙이 없으면 엑셀(구현)을 밟으며 빠르게 코드를 구현할 수 있다.

하지만 빠르지만 위험한 코드들이다.(예전에도 그렇게 생각했지만 빠른 생산속도는 마약같아서 포기하기가 어려웠다.)

그래서 겉으로 보기에 뭔가 결과물이 잘 나오는 듯하지만 많은 기술 부채들을 만들면서 다시는 보고 싶지 않은 코드를 짰던 것 같다.

<span style={{background: 'red', color: 'white'}}>Red</span> 라고 하는 정지신호는 내가 급 발진(구현에 매몰) 하지않도록 브레이크를 준것 같아서 어쩌면 TDD는 나에게 진짜로 꼭 필요했던 방법이지 않았을까 생각이 들었다.

## 느낀점

1. 항상 개발할때는 공부할게 많다는 생각이 든다. 이번에도 `테스트`라는 세계에 제대로 입문하면서 공부량에 한번 또 압도 되었던 것 같다.
2. 입문자다 보니, testing-library와 jest가 같이 쓰이는 상황에서 각각의 역할을 잘 몰랐다. 이를 정리하여 cheatsheet로 남겨서 어려워하시는 분들도 혼란이 없도록 해야겠다.
3. 문득 페이스북 `React`레파지토리의 소스코드를 테스트코드를 통해서 읽어보았더니 복잡한 코드임에도 코드파악이 더 쉬웠다!
4. 풀이영상에서 가장 인상깊었던 것은 fireEvent를 단언할 때, `toBeCalledWith()`가 아닌 `toBeCalled()`로 작성하면

    > 아 여기서는 상태관리를 하지 않는구나

    라는 것을 생각할 수 있다고 이야기했을 때, 나에게는 엄청난 **와우 포인트** 였던 것 같다.

---
