# OCP

> Open-Closed Principle
> 개방-폐쇄의 원칙

## 코드의 변경은 파급시키지 않는다

코드는 확장에 대해서 열려 있고 수정에 대해서 닫혀 있는 2가지 속성을 동시에 충족하도록 설계한다.

-> 의미가 순수함수와 비슷하다.

수정에 대해 닫혀 있다는 말은 코드의 동작을 확장하더라도 그 밖의 코드는 전혀 영향을 받지 않는다는 의미이다.

2가지 속성을 동시에 충족한다면 기존 코드에 전혀 영향을 주지 않고도 기능을 확장할 수 있다.

## 코드의 변경에 유연하게 대응한다

소프트웨어는 변화에 노출되면서도 장기적으로 안정된 소프트웨어를 설계해야 한다.

## 코드에 인터페이스를 사용하자

모듈의 사용자가 직접 호출하는 방식은 경직된 설계다.
그래서 모듈 사용자를 위한 인터페이스를 만든다.

## OCP의 적용 범위

코드의 모든 부분에 OCP를 적용하는 것은 과한 방식이다.
변경이 발생하지 않는다면 코드만 복잡해질 뿐 그저 쓸데없이 장황한 코드가 되기 때문이다.

OCP 적용의 핵심은 변경 내용을 예측하기보다 변화할 법한 부분을 예측하는 데 있다. 예를 들어 도형을 다루는 소프트웨어라면 도형에는 여러 종류가 있다는 점은 쉽게 상상할 수 있다. 이때 다음에 오각형이 추가될지 원이 추가될지는 알 수 없지만 요구사항으로서 도형의 종류가 추가될 것 같다는 점은 예측할 수 있다. 이처럼 변화가 있을 법한 곳을 찾아내어 해당 부분을 인터페이스 뒤로 숨기는 기법을 '유동적 요소의 캡슐화'라고 부른다.
