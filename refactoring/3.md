# 냄새 나면 당장 갈아라

- 코드에서도 나쁜 냄새가 나면 리팩토링할 시간

코드에서 나는 악취들 종류

- 기이한 이름(변수, 함수, 클래스 이름이 이해하기 어려울 때, 의도한 것과 목적이 다른 경우, 코드 이해력을 떨어트리거나 가독성을 떨어뜨리는 경우)
- 중복코드(비슷한 코드가 여러번 반복되는 경우에는 실수와 에러 발생할 확률 증가)
- 긴 함수(한 코드가 너무 길면 이해하기가 어렵고 재사용성이 떨어진다)
- 긴 매개변수 목록(사용하기 어렵고 잦은 실수를 야기한다)
- 전역 데이터(다른 곳에서 누군가가 쉽게 데이터를 변경가능하고 유령코드 출몰 가능성 높다)
- 가변 데이터(Mutable Data는 변경 가능한 데이터인데 예상하지 못한 곳에서 데이터를 변경하는게 예상하지 못한 에러로 이어진다)
- 뒤엉킨 변경(모듈안에서 이것저것 다양한 일을 하게 되는 경우, 다양한 이유로 수정을 해야함)
- 산탄총 수술(한 모듈을 수정하면 다른 모듈과 커플링이 너무 많이 되어 있어서 다른 외부 모듈과 연관되어서 다른 곳에서도 수정해야하는 경우)
- 기능 편애(내부적으로 상호작용되지 않고 그 외부 모듈과 더 밀접하게 상호작용함)
- 데이터 뭉치(이 데이터로 다른곳에서 또 처리하려고 하는 경우)
- 기본형 집착(관련된 코드가 여기저기 흩어져 있음)
- 반복되는 switch 문(새로운 타입이 추가되면 여기저기 업데이트 됨)
- 반복문(절차형 코드 사용으로 사이드 이펙트를 발생시킨다)
- 성의 없는 요소(불필요한 함수, 클래스, 인터페이스)
- 추측성 일반화(미래를 위해서 혹시 모르니 남긴 것들)
- 임시 필드(특성한 상황에서만 사용됨, 이해도가 떨어지게 한다)
- 메시지 체인(내부 로직이 외부로 노출되어야 함. 개발자가 순서를 바꾸면 에러가 발생한다)
- 중개자(호출만하는 중개자 역할을 하는 클래스가 있다면 정말 필요한 클래스인지 고민해볼 필요가 있다)
- 내부자 거래(모듈 내부에서 특정한 함수가 외부 함수와 모듈을 너무 많이 참조해서 외부와 결합도가 많이 높아지는 악취)
- 거대한 클래스(중복 코드 발생확률이 높고 뒤엉킨 변경이 증가할 수 있다)
- 서로다른 인터페이스의 대안 클래스들(서로 대체성이 낮고 재사용성이 낮은 것들)
- 데이터 클래스(데이터 뭉치와 비슷하다. 필요한 로직이 여기저기)
- 상속포기(상속의 오용, 남용은 위험)
- 주석(필요없는 주석은 악)
